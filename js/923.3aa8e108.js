"use strict";(self.webpackChunkvue3_antd_admin=self.webpackChunkvue3_antd_admin||[]).push([[923,7630,6580],{75956:function(e,n,l){l.a(e,(async function(e,a){try{l(93300);var t=l(96461),c=(l(38049),l(62282)),i=(l(89397),l(98704)),u=(l(50460),l(17301)),r=(l(85827),l(66252)),d=l(2262),o=l(49963),v=l(3577),h=l(66309),s=l(60191),p=l(77630),k=l(46580),f=l(66827),m=e([f]);f=(m.then?(await m)():m)[0];const g={class:"input-box"};n.Z=(0,r.aZ)({__name:"index",props:{value:{type:Array,default:()=>[],isRequired:!0}},emits:["update:value"],setup(e,n){let{emit:l}=n;const a=e,m=(0,h.NCN)(a,"value",l),w=(0,d.iH)(),C=(0,d.iH)((0,f.ik)()),_=u.ZP.useInjectFormItemContext(),y=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.reduce(((e,n)=>{var l,a;return null!==(l=n.children)&&void 0!==l&&l.length||!n.checked||!n.value||e.push({label:n.value,value:n.value,node:n}),null!==(a=n.children)&&void 0!==a&&a.length&&y(n.children,e),e}),n)},Z=e=>{const n=e=>e.some((e=>{var l;return!!m.value.includes(e.value)||!(null===(l=e.children)||void 0===l||!l.length)&&n(e.children)})),l=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null==e||e.forEach((e=>{var t,c;null!==(t=e.children)&&void 0!==t&&t.length&&l(e.children,e),e.parent=a,e.indeterminate=!1,e.checked=m.value.includes(e.value),null!==(c=e.children)&&void 0!==c&&c.length&&(e.indeterminate=n(e.children))}))};l(e)};Z(C.value);const S=()=>{m.value=[],setTimeout((()=>{var e;C.value=(0,f.ik)(),Z(C.value),null===(e=w.value)||void 0===e||e.clearCheck()}))},U=(0,r.Fl)((()=>y(C.value)));return(0,r.YP)((()=>U.value),(e=>{m.value=e.map((e=>e.value)),_.onFieldChange()})),(e,n)=>((0,r.wg)(),(0,r.j4)((0,d.SU)(i.Z),{placement:"bottomLeft",trigger:"click","overlay-class-name":"__multiple-cascader"},{content:(0,r.w5)((()=>[(0,r.Wm)(p.default,{ref_key:"nodePanelRef",ref:w,options:C.value},null,8,["options"])])),default:(0,r.w5)((()=>[(0,r._)("div",g,[(0,r.Wm)((0,d.SU)(c.ZP),{placeholder:"请选择"},(0,r.Nv)({_:2},[(0,d.SU)(U).length?{name:"prefix",fn:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)((0,d.SU)(U),(e=>((0,r.wg)(),(0,r.j4)((0,d.SU)(t.ZP),{key:e.value,class:"tag-item",closable:"",onClose:(0,o.iM)((n=>(e=>{(0,k.updateNodeCheckStatus)(!1,e.node)})(e)),["prevent"])},{default:(0,r.w5)((()=>[(0,r.Uk)((0,v.zw)(e.label),1)])),_:2},1032,["onClose"])))),128)),(0,r.Wm)((0,d.SU)(s.Z),{class:"clear-icon",onClick:(0,o.iM)(S,["prevent"])},null,8,["onClick"])])),key:"0"}:void 0]),1024)])])),_:1}))}}),a()}catch(e){a(e)}}))},46580:function(e,n,l){l.r(n),l.d(n,{setChildrenChecked:function(){return t},setParentChecked:function(){return a},updateNodeCheckStatus:function(){return c}});const a=e=>{const n=null==e?void 0:e.children,l=null==n?void 0:n.length,t=!!l&&!n.some((e=>!e.checked)),c=!!l&&n.some((e=>e.checked||e.indeterminate));e.checked=t,e.indeterminate=!t&&c,e.parent&&a(e.parent)},t=(e,n)=>{null==e||e.forEach((e=>{var l;e.checked=n,e.indeterminate=!1,null!==(l=e.children)&&void 0!==l&&l.length&&t(e.children,n)}))},c=(e,n)=>{var l;n.checked=e,n.indeterminate=!1,Array.isArray(n.children)&&null!==(l=n.children)&&void 0!==l&&l.length&&t(n.children,e),n.parent&&a(n.parent)}},30923:function(e,n,l){l.a(e,(async function(e,a){try{l.r(n);var t=l(46439),c=(l(219),l(57415),l(83744)),i=e([t]);t=(i.then?(await i)():i)[0];const u=(0,c.Z)(t.Z,[["__scopeId","data-v-a03d269e"]]);n.default=u,a()}catch(e){a(e)}}))},77630:function(e,n,l){l.r(n),l.d(n,{default:function(){return k}});l(79861);var a=l(36993),t=l(66252),c=l(2262),i=l(3577),u=l(67944),r=l(46580);const d={class:"flex"},o={class:"ant-cascader-menu min-w-150px"},v=["onClick"],h={class:"label"},s=(0,t.aZ)({name:"NodePanel"});var p=(0,t.aZ)({...s,props:{options:{type:Array,default:()=>[]}},setup(e,n){let{expose:l}=n;const s=e,p=(0,c.iH)(),k=(0,c.iH)([]),f=(0,c.iH)(),m=()=>{var e,n;return null===(e=s.options)||void 0===e||null===(n=e.find((e=>e.value===f.value)))||void 0===n?void 0:n.children},g=(0,t.Fl)(m);(0,t.YP)(g,(e=>{e||(k.value=[])}));return l({clearCheck:()=>{var e;k.value.forEach((e=>{e.checked=!1,e.indeterminate=!1})),k.value.length&&setTimeout((()=>{k.value=m()||[]})),null===(e=p.value)||void 0===e||e.clearCheck()}}),(n,l)=>{var s;const m=(0,t.up)("node-panel",!0);return(0,t.wg)(),(0,t.iD)("div",d,[(0,t._)("div",o,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.options,(e=>{var n;return(0,t.wg)(),(0,t.iD)("div",{key:e.value,class:"check-row ant-cascader-menu-item ant-cascader-menu-item-expand",onClick:n=>function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;k.value=e,f.value=n}(e.children,e.value)},[(0,t._)("div",null,[(0,t.Wm)((0,c.SU)(a.ZP),{checked:e.checked,"onUpdate:checked":n=>e.checked=n,indeterminate:e.indeterminate,onChange:n=>((e,n)=>{const l=e.target.checked;(0,r.updateNodeCheckStatus)(l,n)})(n,e)},null,8,["checked","onUpdate:checked","indeterminate","onChange"]),(0,t._)("span",h,(0,i.zw)(e.label),1)]),null!==(n=e.children)&&void 0!==n&&n.length?((0,t.wg)(),(0,t.j4)((0,c.SU)(u.Z),{key:0,class:"arrow"})):(0,t.kq)("",!0)],8,v)})),128))]),null!==(s=k.value)&&void 0!==s&&s.length&&(0,c.SU)(g)?((0,t.wg)(),(0,t.j4)(m,{key:0,ref_key:"nodePanelRef",ref:p,options:k.value},null,8,["options"])):(0,t.kq)("",!0)])}}});var k=(0,l(83744).Z)(p,[["__scopeId","data-v-15a34f47"]])},46439:function(e,n,l){l.a(e,(async function(e,a){try{l.d(n,{Z:function(){return t.Z}});var t=l(75956),c=e([t]);t=(c.then?(await c)():c)[0],a()}catch(e){a(e)}}))},219:function(){},57415:function(){}}]);