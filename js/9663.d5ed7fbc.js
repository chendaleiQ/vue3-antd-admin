"use strict";(self.webpackChunkvue3_antd_admin=self.webpackChunkvue3_antd_admin||[]).push([[9663],{47967:function(e,a,t){t.a(e,(async function(e,l){try{t(93300);var u=t(96461),n=(t(12431),t(66900)),s=(t(84324),t(95878)),r=t(66252),d=t(2262),o=t(3577),c=t(98243),i=t(19171),m=t(15733),f=e([i]);i=(f.then?(await f)():f)[0];const w={class:"sys-server-stat-container"},U={class:"disk-info"},v={class:"disk-info--item"},S={class:"disk-info"},b={class:"disk-info--item"},_=(0,r.aZ)({name:"SystemMonitorServe"});a.Z=(0,r.aZ)({..._,setup(e){let a=-1;const t=(0,d.qj)({runtime:{os:"",arch:"",nodeVersion:"",npmVersion:""},disk:{size:0,used:0,available:0},memory:{total:0,available:0},cpu:{manufacturer:"",brand:"",physicalCores:0,model:"",speed:0,rawCurrentLoad:0,rawCurrentLoadIdle:0,coresLoad:[]}}),{runtime:l,disk:f,memory:_,cpu:Z}=(0,d.BK)(t),k=(0,r.Fl)((()=>({size:(0,c.GR)(f.value.size),used:(0,c.GR)(f.value.used),available:(0,c.GR)(f.value.available)}))),P=(0,r.Fl)((()=>({total:(0,c.GR)(_.value.total),free:(0,c.GR)(_.value.available),used:(0,c.GR)(_.value.total-_.value.available)}))),W=(0,r.Fl)((()=>f.value.size<=0?0:Math.floor(f.value.used/f.value.size*100))),h=(0,r.Fl)((()=>_.value.total<=0?0:Math.floor((_.value.total-_.value.available)/_.value.total*100))),p=(0,r.Fl)((()=>`${Z.value.manufacturer} ${Z.value.brand} @ ${Z.value.speed}GHz`)),y=async()=>{const e=await(0,i.P)();l.value=e.runtime,f.value=e.disk,_.value=e.memory,Z.value=e.cpu};y();const z=e=>e<30?"#5cb87a":e<70?"#e6a23c":"#f53f3f",I=(e,a)=>a<=0?0:Math.floor(e/a*100);return(0,r.bv)((()=>{a=setInterval(y,1e4)})),(0,r.Jd)((()=>{clearInterval(a)})),(e,a)=>((0,r.wg)(),(0,r.iD)("div",w,[(0,r.Wm)((0,d.SU)(s.ZP),{class:"stat-card",title:"运行环境"},{default:(0,r.w5)((()=>[(0,r.Wm)((0,d.SU)(n.ZP),{column:1,"label-style":{width:"50%"}},{default:(0,r.w5)((()=>[(0,r.Wm)((0,d.SU)(n.ZP).Item,{label:"操作系统"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,o.zw)((0,d.SU)(l).os),1)])),_:1}),(0,r.Wm)((0,d.SU)(n.ZP).Item,{label:"系统架构"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,o.zw)((0,d.SU)(l).arch),1)])),_:1}),(0,r.Wm)((0,d.SU)(n.ZP).Item,{label:"Node版本"},{default:(0,r.w5)((()=>[(0,r.Wm)((0,d.SU)(u.ZP),{color:"processing",size:"small"},{default:(0,r.w5)((()=>[(0,r.Uk)("v"+(0,o.zw)((0,d.SU)(l).nodeVersion),1)])),_:1})])),_:1}),(0,r.Wm)((0,d.SU)(n.ZP).Item,{label:"NPM版本"},{default:(0,r.w5)((()=>[(0,r.Wm)((0,d.SU)(u.ZP),{color:"processing",size:"small"},{default:(0,r.w5)((()=>[(0,r.Uk)("v"+(0,o.zw)((0,d.SU)(l).npmVersion),1)])),_:1})])),_:1})])),_:1})])),_:1}),(0,r.Wm)((0,d.SU)(s.ZP),{class:"stat-card",title:"CPU"},{default:(0,r.w5)((()=>[(0,r.Wm)((0,d.SU)(n.ZP),{column:1,"label-style":{width:"50%"},"content-style":{width:"50%"}},{default:(0,r.w5)((()=>[(0,r.Wm)((0,d.SU)(n.ZP).Item,{label:"详细"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,o.zw)((0,d.SU)(p)),1)])),_:1}),(0,r.Wm)((0,d.SU)(n.ZP).Item,{label:"负载"},{default:(0,r.w5)((()=>[(0,r.Wm)(m.default,{percent:I((0,d.SU)(Z).rawCurrentLoad,(0,d.SU)(Z).rawCurrentLoadIdle+(0,d.SU)(Z).rawCurrentLoad),"stroke-color":z},null,8,["percent"])])),_:1}),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)((0,d.SU)(Z).coresLoad,((e,a)=>((0,r.wg)(),(0,r.j4)((0,d.SU)(n.ZP).Item,{key:a,label:`核心${a+1} 负载`},{default:(0,r.w5)((()=>[(0,r.Wm)(m.default,{percent:I(e.rawLoad,e.rawLoad+e.rawLoadIdle),"stroke-color":z},null,8,["percent"])])),_:2},1032,["label"])))),128))])),_:1})])),_:1}),(0,r.Wm)((0,d.SU)(s.ZP),{class:"stat-card",title:"磁盘"},{default:(0,r.w5)((()=>[(0,r._)("div",U,[(0,r.Wm)((0,d.SU)(n.ZP),{class:"disk-info--item",column:1},{default:(0,r.w5)((()=>[(0,r.Wm)((0,d.SU)(n.ZP).Item,{label:"总空间"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,o.zw)((0,d.SU)(k).size),1)])),_:1}),(0,r.Wm)((0,d.SU)(n.ZP).Item,{label:"已用空间"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,o.zw)((0,d.SU)(k).used),1)])),_:1}),(0,r.Wm)((0,d.SU)(n.ZP).Item,{label:"可用空间"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,o.zw)((0,d.SU)(k).available),1)])),_:1})])),_:1}),(0,r._)("div",v,[(0,r.Wm)(m.default,{type:"dashboard",percent:(0,d.SU)(W),width:100,"stroke-color":z},null,8,["percent"])])])])),_:1}),(0,r.Wm)((0,d.SU)(s.ZP),{class:"stat-card",title:"内存"},{default:(0,r.w5)((()=>[(0,r._)("div",S,[(0,r.Wm)((0,d.SU)(n.ZP),{class:"disk-info--item",column:1},{default:(0,r.w5)((()=>[(0,r.Wm)((0,d.SU)(n.ZP).Item,{label:"总内存"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,o.zw)((0,d.SU)(P).total),1)])),_:1}),(0,r.Wm)((0,d.SU)(n.ZP).Item,{label:"已用内存"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,o.zw)((0,d.SU)(P).used),1)])),_:1}),(0,r.Wm)((0,d.SU)(n.ZP).Item,{label:"可用内存"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,o.zw)((0,d.SU)(P).free),1)])),_:1})])),_:1}),(0,r._)("div",b,[(0,r.Wm)(m.default,{type:"dashboard",percent:(0,d.SU)(h),width:100,"stroke-color":z},null,8,["percent"])])])])),_:1})]))}}),l()}catch(e){l(e)}}))},19171:function(e,a,t){t.a(e,(async function(e,l){try{t.d(a,{P:function(){return r}});var u=t(4064),n=t(49845),s=e([u]);function r(){return(0,u.W)({url:n.default.stat,method:"get"})}u=(s.then?(await s)():s)[0],l()}catch(d){l(d)}}))},99658:function(e,a,t){t.a(e,(async function(e,l){try{t.r(a);var u=t(41339),n=(t(73055),t(83744)),s=e([u]);u=(s.then?(await s)():s)[0];const r=(0,n.Z)(u.Z,[["__scopeId","data-v-fdb23d7e"]]);a.default=r,l()}catch(e){l(e)}}))},41339:function(e,a,t){t.a(e,(async function(e,l){try{t.d(a,{Z:function(){return u.Z}});var u=t(47967),n=e([u]);u=(n.then?(await n)():n)[0],l()}catch(e){l(e)}}))},73055:function(){}}]);